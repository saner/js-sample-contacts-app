<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]--> <!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]--> <!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]--> <!--[if IE 9 ]>    <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>Contacts</title>
  <meta name="description" content="">
  <meta name="author" content="">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="stylesheet" href="css/style.css?v=2">
  <link rel="stylesheet" href="css/contacts.css">

  <!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>
<body>
  <div id="wrapper">
    <div id="login-panel">
      <a href="#" class="button">Login</a>
      <a href="#" class="button">Register</a>
    </div>

    <div id="content">
      <script type="text/x-handlebars">
        {{#view App.LoginBox}}
            <h1 class="label">Login</h1>
            <div id="content">
              {{#view LoginForm}}
                <label for="login">Login:</label>{{view LoginField}}<br />
                <label for="password">Password:</label>{{view PasswordField}}<br />
                <input type="submit" value="Login" />
              {{/view}}
            </div>
        {{/view}}

        {{#view App.RegistrationBox}}
            <h1 class="label">Register</h1>
            <div id="content">
              {{#view RegistrationForm}}
                <label for="login">Login:</label>{{view LoginField}}<br />
                <label for="password">Password:</label>{{view PasswordField}}<br />
                <label for="confirm_password">Confirm password:</label>{{view ConfirmPasswordField}}<br />
                <input type="submit" value="Register" />
              {{/view}}
            </div>
        {{/view}}
      </script>

      <div id="tabs">
        <div id="list">
          <ul>
          <script type="text/x-handlebars">
            {{#view App.TabItem tabName="ContactsContent"}}<a href="#">Contacts</a>{{/view}}
            {{#view App.TabItem tabName="NewContactContent"}}<a href="#">New contact</a>{{/view}}
          </script>
          </ul>
        </div>
        <div id="content">
          <script type="text/x-handlebars">
            {{#view App.ContactsContent}}
              <div id="contacts">
                <div id="list">
                  {{collection contentBinding="App.userProfilesController" tagName="ul" itemViewClass="App.UserProfileListItemView" }}
                </div>
                <div id="content">
                  {{#view  App.UserProfileDetailsView}}
                    {{#if selectedUserProfile}}
                      <h3>{{userName}}</h3>
                      {{#with selectedUserProfile}}
                        <table>
                          <tr><td> First name:</td><td>{{firstName}}</td></tr>
                          <tr><td> Last name:</td><td>{{lastName}}</td></tr>
                          <tr><td> Email:</td><td>{{email}}</td></tr>
                          <tr><td> Phone:</td><td>{{phone}}</td></tr>
                        </table>
                      {{/with}}
                    {{/if}}
                  {{/view}}
                </div>
              </div>
            {{/view}}
            {{#view App.NewContactContent}}
              <div id="new-contact">
                {{#view App.UserProfileForm}}
                  <label>First name: </label>{{view FirstNameArea}} <br />
                  <label>Last name: </label>{{view LastNameArea}} <br />
                  <label>Email: </label>{{view EmailNameArea}} <br />
                  <label>Phone: </label>{{view PhoneNameArea}} <br />
                  <input type="submit" value="Add contact">
                {{/view}}
              </div>
            {{/view}}
          </script>
        </div>
      </div>

    </div>
  </div>

  <script type="text/x-handlebars" data-template-name="user-profile-list-item-view">
      {{userName}}
  </script>


  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="js/libs/jquery-1.6.1.min.js"%3E%3C/script%3E'))</script>
  <script src="js/libs/ember-0.9.4.js"></script>

  <!-- app -->
  <script src="js/app.js"></script>
  <!-- models -->
  <script src="js/models/user_profile.js"></script>
  <!-- views -->
  <script src="js/views/user_profile_details_view.js"></script>
  <script src="js/views/user_profile_list_item_view.js"></script>
  <script src="js/views/user_profile_form.js"></script>
  <script src="js/views/tab_item.js"></script>
  <script src="js/views/login_box.js"></script>
  <script src="js/views/registration_box.js"></script>
  <script src="js/views/base_content.js"></script>
  <script src="js/views/contacts_content.js"></script>
  <script src="js/views/new_contact_content.js"></script>
  <!-- conrollers -->
  <script src="js/controllers/app_controller.js"></script>
  <script src="js/controllers/user_profiles_controller.js"></script>
  <script src="js/controllers/selected_user_profile_controller.js"></script>
  <!-- load -->
  <script src="js/load.js"></script>

</body>
</html>
